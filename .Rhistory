install.packages("RMySQL")
install.packages("quantmod")
library(quantmod)
library.packages('quantmod')
install.packages('quantmod')
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
View(amzn)
Sys.Date()
amzn[which(grep(^2012,amzn$row.names)),]
?grep
amzn[which(grep("^2012",amzn$row.names)),]
amzn[which(grep(2012,amzn$row.names)),]
amzn[whitch(grep(2012,amzn$row.names)),]
amzn[witch(grep(2012,amzn$row.names)),]
?whitch
?witch
library(plyr)
amzn[witch(grep(2012,amzn$row.names)),]
amzn[grep(2012,amzn$row.names),]
test <- amzn[grep(2012,amzn$row.names),]
amzn$row.names
amzn <- as.dataframe(amzn)
?As
?as
amzn <- as.data.frame(amzn)
amzn$row.names
View(amzn)
amzn[1,]
amzn[,1]
amzn[,0]
amzn$row.names
amzn$AMZN.Open
amzn$row.names
amzn$row.names
amzn$row.names
amzn$row.name
?col.names
?col.name
?colname
colnames(amzn)
amzn = getSymbols("AMZN",auto.assign=FALSE)
View(amzn)
colnames(amzn)
?index
sampleTimes = index(amzn)
sampleTimes
sampleTimes <- sampleTimes(which(grep(2012, sampleTimes)))
sampleTimes <- sampleTimes[which(grep(2012, sampleTimes)),]
sampleTimes <- sampleTimes[where(grep(2012, sampleTimes)),]
?which
sampleTimes <- sampleTimes[which(grep(2012, sampleTimes)),]
grep(2012,sampleTimes)
which(sampleTimes %in% paste(grep(2012,sampleTimes)))
test<- grep(2012,sampleTimes)
sampleTimes[test]
twenty<-sampleTimes[test]
format(twenty, "%A %b %m %Y")
date<-format(twenty, "%A %b %m %Y")
date(grep(^Monday, date))
date(grep(Monday, date))
date[grep(Monday, date),]
date[grep(Monday, date)]
?grep
date[which(date == "Monday"),]
date[which(date == "Monday")]
grep(^Monday, date)
grep("^Monday", date)
swirl()
library(swirl)
swirl()
library(dplyr)
tbl_df(mydf)
cran <- tbl_df(mydf)
rm("mydf")
cran
?group_dy()
?group_dy
?group_by
by_package <- group_by(cran, package)
by_package
summarize(by_package)
summarize(by_package, mean(size))
submit()
pack_sum
quantime(pack_sum$count, probs = 0.99)
quantile(pack_sum$count, probs = 0.99)
top_counts <- filter(pack_sum$count > 679)
top_counts <- filter(pack_sum$count, count > 679)
top_counts <- 4
top_counts <- filter(pack_sum, count > 679)
top_counts
head(top_counts, 20)
?arrange
arrange(top_counts,count)
arrange(top_counts,desc(count))
quantile(pack_sum$unique, probs = 0.99)
filter(pack_sum, unique>465)
filter(pack_sum, unique>465)
top_unique <- filter(pack_sum, unique>465)
top_unique
arrange(top_unique, dec(unique))
arrange(top_unique, desc(unique))
submit()
submit()
submit()
submit()
?mutate
submit()
submit()
submit()
submit()
submit()
submit()
library(swirl)
swirl()
library(tidyr)
students
?gather()
?gather
gather(students, sex, count, -grade)
students2
gather(students2, sex_class, count)
gather(students2, sex_class, count, -grade)
res <- gather(students2, sex_class, count, -grade)
res
?seperate
?separate
separate(res, sex_class, into = c("sex","class"))
submit()
submit()
students3
submit()
submit()
submit()
submit()
submit()
?spread
?spread
submit()
submit()
submit()
submit()
extract_numeric("class5")
extract_numeric("class5")
submit()
submit()
submit()
students4
submit()
submit()
submit()
submit()
submit()
submit()
passed
failed
passed <- mutate(passed, status="passed")
failed <- mutate(failed, status="failed")
rbind_list(passed,failed)
sat
submit()
submit()
submit()
swirl()
Sys.getlocale("LC_TIME")
library(lubridate)
help(package=lubridate)
this_day <- today()
this_day
year(this_dat)
year(this_day)
wday(this_day)
wday(this_day, lable=true)
wday(this_day, label=true)
wday(this_day, label=TRUE)
this_moment <- now()
this_moment
hour(this_moment)
my_date<-ymd("1989-05-17")
my_date
class(my_date)
ymd("1989 May 17")
mdy("March 12, 1975")
date(25081985)
mdy(25081985)
dmy(25081985)
ymd("192012")
ymd("1920/1/2")
dtl
dt1
ymd_hms(dt1)
hms("03:22:14")
dt2
ymd(dt2)
update(this_moment, hours=8,minutes=34,seconds=55)
this_moment
this_moment <- update(this_moment, hours=5,minutes=59)
this_moment
now(tzone="America/New_York")
nyc<- now("America/New_York")
nyc
depart<- nyc+days(2)
depart
depart<- update(depart, hours=17, munutes=34)
depart<- update(depart, hours=17, minutes=34)
depart
arrive = depart+hours(15)+minutes(50)
?with_tz
with_tz(arrive, "Asia/Hong_Kong")
arrive <- with_tz(arrive, "Asia/Hong_Kong")
arrive
last_time<-mdy("June 17, 2008",tz="Singapore")
last_time
?new_interval
how_long(arrive,last_time)
how_long <- new_interval(arrive,last_time)
how_long <- new_interval(last_time,arrive)
as.period(how_long)
stopwatch()
exit
quit
quit()
#importing data
library(ggplot2)
setwd("~/git/EDA---PM2.5")
source('Class_Project2.R')
#data manipulation
#finding coal data aources
coalFuel <- grepl("Fuel Comb.*Coal", SCC$EI.Sector)
coalFuelSource <- SCC[coalFuel,]
#finding emissions that are coal related
coalEmissions <- NEI[(NEI$SCC %in% coalFuelSource$SCC),]
coalEmissionsByYear <- aggrigate(Emissions ~ year, coalEmissions, sum)
#Printing of plot
png(file="plot1.png", bg="transparent")
ggplot(coalEmissionsByYear, aes(x=factor(year), y=Emissions))+
geom_bar(stat="identity") +
xlab("year")+
ylab("PM2.5 emissions")+
ggtitle("Emissions from coal")
dev.off()
ding emissions that are coal related
coalEmissions <- NEI[(NEI$SCC %in% coalFuelSource$SCC),]
coalEmissionsByYear <- aggregate(Emissions ~ year, coalEmissions, sum)
#Printing of plot
png(file="plot1.png", bg="transparent")
ggplot(coalEmissionsByYear, aes(x=factor(year), y=Emissions))+
geom_bar(stat="identity") +
xlab("year")+
ylab("PM2.5 emissions")+
ggtitle("Emissions from coal")
#finding emissions that are coal related
coalEmissions <- NEI[(NEI$SCC %in% coalFuelSource$SCC),]
coalEmissionsByYear <- aggregate(Emissions ~ year, coalEmissions, sum)
#Printing of plot
png(file="plot1.png", bg="transparent")
ggplot(coalEmissionsByYear, aes(x=factor(year), y=Emissions))+
geom_bar(stat="identity") +
xlab("year")+
ylab("PM2.5 emissions")+
ggtitle("Emissions from coal")
#finding coal data aources
coalFuel <- grepl("Fuel Comb.*Coal", SCC$EI.Sector)
coalFuelSource <- SCC[coalFuel,]
#finding emissions that are coal related
coalEmissions <- NEI[(NEI$SCC %in% coalFuelSource$SCC),]
coalEmissionsByYear <- aggregate(Emissions ~ year, coalEmissions, sum)
#Printing of plot
png(file="plot$.png", bg="transparent")
ggplot(coalEmissionsByYear, aes(x=factor(year), y=Emissions))+
geom_bar(stat="identity") +
xlab("year")+
ylab("PM2.5 emissions")+
ggtitle("Emissions from coal")
dev.off()
bEmissions <- bEmissions <- NEI[(NEI$fips=="24510") & (NEI[NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#Printing of plot
png(file="plot5.png", bg="transparent")
ggplot(bEmissionsByYearType,aes(x=factor(year),y=Emissions))+
geom_bar(stat="identity")+
facet_grid(. ~ type) +
xlab("Year")+
ylab("PM2.5 Emission")+
ggtitle("Emissions in Baltamore City from motor vehicles")
dev.off()
bEmissions <- NEI[(NEI$fips=="24510") & (NEI[NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#Printing of plot
png(file="plot5.png", bg="transparent")
ggplot(bEmissionsByYearType,aes(x=factor(year),y=Emissions))+
geom_bar(stat="identity")+
facet_grid(. ~ type) +
xlab("Year")+
ylab("PM2.5 Emission")+
ggtitle("Emissions in Baltamore City from motor vehicles")
dev.off()
bEmissions <- NEI[(NEI$fips=="24510") & (NEI[NEI$type=="ON-ROAD"),]
bEmissions <- NEI[(NEI$fips=="24510") & (NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#Printing of plot
png(file="plot5.png", bg="transparent")
ggplot(bEmissionsByYearType,aes(x=factor(year),y=Emissions))+
geom_bar(stat="identity")+
facet_grid(. ~ type) +
xlab("Year")+
#importing data
ylab("PM2.5 Emission")+
ggtitle("Emissions in Baltamore City from motor vehicles")
dev.off()
png(file="plot5.png", bg="transparent")
ggplot(bEmissionsByYearType,aes(x=factor(year),y=Emissions, fill=type))+
geom_bar(stat="identity")+
facet_grid(. ~ type) +
xlab("Year")+
ylab("PM2.5 Emission")+
ggtitle("Emissions in Baltamore City from motor vehicles")
dev.off()
#data manipulation
#filtering Baltamore city (fips 24510) by On Road Emissions
bEmissions <- NEI[(NEI$fips=="24510") & (NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#Printing of plot
png(file="plot5.png", bg="transparent")
ggplot(bEmissionsByYearType,aes(x=factor(year),y=Emissions))+
geom_bar(stat="identity")+
facet_grid(. ~ type) +
xlab("Year")+
ylab("PM2.5 Emission")+
ggtitle("Emissions in Baltamore City from motor vehicles")
dev.off()
bEmissions <- NEI[(NEI$fips=="24510") & (NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#Printing of plot
png(file="plot5.png", bg="transparent")
ggplot(bEmissionsByYearType,aes(x=factor(year),y=Emissions))+
geom_bar(stat="identity")+
xlab("Year")+
ylab("PM2.5 Emission")+
ggtitle("Emissions in Baltamore City from motor vehicles")
dev.off()
#Printing of plot
png(file="plot5.png", bg="transparent")
ggplot(bEmissionsByYearType,aes(x=factor(year),y=Emissions))+
geom_bar(stat="identity", fill="red")+
xlab("Year")+
ylab("PM2.5 Emission")+
ggtitle("Emissions in Baltamore City from motor vehicles")
dev.off()
#data manipulation
#filtering Baltamore city (fips 24510) by On Road Emissions
bEmissions <- NEI[(NEI$fips=="24510") & (NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#filtering LA city (fips 06037) by On Road Emissions
laEmissions <- NEI[(NEI$fips=="06037") & (NEI$type=="ON-ROAD"),]
laEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#making one data frame
blaEmissions <- rbind(bEmissionsByYearType, laEmissionsByYearType)
#Printing of plot
png(file="plot6.png", bg="transparent")
ggplot(blaEmissions, aes(x=factor(year), y=emissions, fill=County))+
geom_bar(stat="identity")+
facet_grid(County ~. scales="free")+
ylab("Total emissions in tons")+
xlab("Year")+
ggtitle("Motor Vehicle emoission differences \n Baltimore vs. Los Angelas")
dev.off()
bEmissions <- NEI[(NEI$fips=="24510") & (NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#filtering LA city (fips 06037) by On Road Emissions
laEmissions <- NEI[(NEI$fips=="06037") & (NEI$type=="ON-ROAD"),]
laEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#making one data frame
blaEmissions <- rbind(bEmissionsByYearType, laEmissionsByYearType)
#Printing of plot
png(file="plot6.png", bg="transparent")
ggplot(blaEmissions, aes(x=factor(year), y=emissions, fill=County))+
geom_bar(stat="identity") +
facet_grid(County ~., scales="free") +
ylab("Total emissions in tons") +
xlab("Year") +
ggtitle("Motor Vehicle emoission differences \n Baltimore vs. Los Angelas")
dev.off()
#Printing of plot
png(file="plot6.png", bg="transparent")
ggplot(blaEmissions, aes(x=factor(year), y=emissions, fill=County))+
geom_bar(stat="identity") +
facet_grid(County ~ ., scales="free") +
ylab("Total emissions in tons") +
xlab("Year") +
ggtitle("Motor Vehicle emoission differences \n Baltimore vs. Los Angelas")
dev.off()
png(file="plot6.png", bg="transparent")
ggplot(blaEmissions, aes(x=factor(year), y=Emissions, fill=County))+
geom_bar(stat="identity") +
facet_grid(County ~ ., scales="free") +
ylab("Total emissions in tons") +
xlab("Year") +
ggtitle("Motor Vehicle emoission differences \n Baltimore vs. Los Angelas")
dev.off()
View(bEmissions)
#data manipulation
#filtering Baltamore city (fips 24510) by On Road Emissions
bEmissions <- NEI[(NEI$fips=="24510") & (NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#filtering LA city (fips 06037) by On Road Emissions
laEmissions <- NEI[(NEI$fips=="06037") & (NEI$type=="ON-ROAD"),]
laEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#making one data frame
bEmissions$City <- "Baltimore City, MD"
laEmissions$City <- "Los Angeles County, CA"
blaEmissions <- rbind(bEmissionsByYearType, laEmissionsByYearType)
#Printing of plot
png(file="plot6.png", bg="transparent")
ggplot(blaEmissions, aes(x=factor(year), y=Emissions, fill=City))+
geom_bar(stat="identity") +
facet_grid(City ~ ., scales="free") +
ylab("Total emissions in tons") +
xlab("Year") +
ggtitle("Motor Vehicle emoission differences \n Baltimore vs. Los Angelas")
dev.off()
#data manipulation
#filtering Baltamore city (fips 24510) by On Road Emissions
bEmissions <- NEI[(NEI$fips=="24510") & (NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#filtering LA city (fips 06037) by On Road Emissions
laEmissions <- NEI[(NEI$fips=="06037") & (NEI$type=="ON-ROAD"),]
laEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#making one data frame
bEmissionsByYearType$City <- "Baltimore City, MD"
laEmissionsByYearType$City <- "Los Angeles County, CA"
blaEmissions <- rbind(bEmissionsByYearType, laEmissionsByYearType)
#Printing of plot
png(file="plot6.png", bg="transparent")
ggplot(blaEmissions, aes(x=factor(year), y=Emissions, fill=City))+
geom_bar(stat="identity") +
facet_grid(City ~ ., scales="free") +
ylab("Total emissions in tons") +
xlab("Year") +
ggtitle("Motor Vehicle emoission differences \n Baltimore vs. Los Angelas")
dev.off()
library(base)
source('plot1.R')
source('plot2.R')
source('plot3.R')
source('plot4.R')
source('plot5.R')
#importing data
source('Class_Project2.R')
#data manipulation
#filtering by fips - 24510
bEmissions <- NEI[NEI$fips=="24510",]
#grouping Baltamor city emissions by year
bEmissionsByYearType <- aggregate(Emissions ~ year + type, bEmissions, sum)
#Printing of plot
png(file="plot3.png", bg="transparent")
ggplot(bEmissionsByYearType,aes(x=factor(year),y=Emissions,fill=type))+
geom_bar(stat="identity")+
facet_grid(. ~ type) +
xlab("Year")+
ylab("PM2.5 Emission")+
ggtitle("Emissions in Baltamore City by source type")
dev.off()
#data manipulation
#finding coal data aources
coalFuel <- grepl("Fuel Comb.*Coal", SCC$EI.Sector)
coalFuelSource <- SCC[coalFuel,]
#finding emissions that are coal related
coalEmissions <- NEI[(NEI$SCC %in% coalFuelSource$SCC),]
coalEmissionsByYear <- aggregate(Emissions ~ year, coalEmissions, sum)
#Printing of plot
png(file="plot4.png", bg="transparent")
ggplot(coalEmissionsByYear, aes(x=factor(year), y=Emissions))+
geom_bar(stat="identity") +
xlab("year")+
ylab("PM2.5 emissions")+
ggtitle("Emissions from coal")
dev.off()
#data manipulation
#filtering Baltamore city (fips 24510) by On Road Emissions
bEmissions <- NEI[(NEI$fips=="24510") & (NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#Printing of plot
png(file="plot5.png", bg="transparent")
ggplot(bEmissionsByYearType,aes(x=factor(year),y=Emissions))+
geom_bar(stat="identity")+
xlab("Year")+
ylab("PM2.5 Emission")+
ggtitle("Emissions in Baltamore City from motor vehicles")
dev.off()
#data manipulation
#filtering Baltamore city (fips 24510) by On Road Emissions
bEmissions <- NEI[(NEI$fips=="24510") & (NEI$type=="ON-ROAD"),]
bEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#filtering LA city (fips 06037) by On Road Emissions
laEmissions <- NEI[(NEI$fips=="06037") & (NEI$type=="ON-ROAD"),]
laEmissionsByYearType <- aggregate(Emissions ~ year, bEmissions, sum)
#making one data frame
bEmissionsByYearType$City <- "Baltimore City, MD"
laEmissionsByYearType$City <- "Los Angeles County, CA"
blaEmissions <- rbind(bEmissionsByYearType, laEmissionsByYearType)
#Printing of plot
png(file="plot6.png", bg="transparent")
ggplot(blaEmissions, aes(x=factor(year), y=Emissions, fill=City))+
geom_bar(stat="identity") +
facet_grid(City ~ ., scales="free") +
ylab("Total emissions in tons") +
xlab("Year") +
ggtitle("Motor Vehicle emission differences \n Baltimore vs. Los Angelas")
dev.off()
